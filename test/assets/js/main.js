"use strict";var e=document.body.querySelectorAll(".utm_source"),t=document.body.querySelectorAll(".utm_campaign"),n=document.body.querySelectorAll(".utm_content"),a=document.body.querySelectorAll(".utm_term"),o=document.body.querySelectorAll(".utm_medium"),r=function(e){for(var t=window.location.search.substring(1).split("&"),n=0;n<t.length;n++){var a=t[n].split("=");if(a[0]===e)return decodeURIComponent(a[1])}},c=r("utm_source");e.forEach(function(e){return e.value=c});var i=r("utm_campaign");t.forEach(function(e){return e.value=i});var l=r("utm_content");n.forEach(function(e){return e.value=l});var s=r("utm_term");a.forEach(function(e){return e.value=s});var u=r("utm_medium");o.forEach(function(e){return e.value=u});var d=document.body.querySelector(".loader"),v=document.body.querySelectorAll("form"),m=document.body.querySelector(".disable-page"),f=m.querySelector(".disable-page_close");function y(o,r){return function(e){e=Object.assign(e,{path:"/","max-age":"2592000"});var t=encodeURIComponent(o)+"="+encodeURIComponent(r);for(var n in e){t+="; "+n;var a=e[n];!0!==a&&(t+="="+a)}document.cookie=t}(2<arguments.length&&void 0!==arguments[2]?arguments[2]:{})}var L,h,E=function e(t){t.preventDefault(),m.classList.remove("active"),f.removeEventListener("click",e)};void 0!==(L="finX.by",(h=document.cookie.match(new RegExp("(?:^|; )"+L.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)")))?decodeURIComponent(h[1]):void 0)?v.forEach(function(e){e.addEventListener("submit",function(e){e.preventDefault(),m.classList.add("active"),f.addEventListener("click",E)})}):v.forEach(function(e){e.addEventListener("submit",function(e){d.classList.add("active"),y("finX.by","send")})}),v.forEach(function(e){e.addEventListener("keydown",function(e){"Enter"===e.key&&e.preventDefault()})});var p=document.body.querySelectorAll(".isAllValidData"),b=function(e,t){Array.from(e).every(function(e){return e.classList.contains("valid")})?t.removeAttribute("disabled"):t.setAttribute("disabled","disabled")};p.forEach(function(e){var t=e.querySelectorAll(".isValidData"),n=e.querySelector(".isDisableButton");n&&(e.addEventListener("click",function(){return b(t,n)}),e.addEventListener("keyup",function(){return b(t,n)}),e.addEventListener("change",function(){return b(t,n)}))});var g=document.body.querySelectorAll(".isValidInput"),k=document.body.querySelectorAll(".accepting");g.forEach(function(e){e.addEventListener("input",function(){e.checkValidity()?e.classList.add("valid"):e.classList.remove("valid")})}),k.forEach(function(e){e.addEventListener("change",function(){e.checked?e.classList.add("valid"):e.classList.remove("valid")})});var S=document.body.querySelectorAll(".telmask");$(function(){$(".telmask").inputmask({clearIncomplete:!0,showMaskOnHover:!1,mask:"+375 (99) 999-99-99"})}),S.forEach(function(n){var a=n.nextSibling;n.addEventListener("keyup",function(){var e=n.value.replace(/[^\d]/g,"");if(12===e.length){var t=e.substring(3,5);["33","29","44","25"].some(function(e){return e===t})?(n.classList.add("valid"),n.classList.remove("invalid"),a.classList.remove("active")):(n.classList.remove("valid"),n.classList.add("invalid"),a.classList.add("active"))}else n.classList.remove("valid"),n.classList.remove("invalid"),a.classList.remove("active")})}),document.body.querySelectorAll(".url").forEach(function(e){var t=window.location.href,n=t.match(/\?/);e.value=null===n?t:t.substr(0,n.index)});var q=document.body.querySelectorAll(".openModalConsultation"),A=document.body.querySelector(".modal-consultation"),C=A.querySelector(".modal-consultation_close"),w=function e(t){t.preventDefault(),A.classList.remove("active"),C.removeEventListener("click",e)};q.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),A.classList.add("active"),C.addEventListener("click",w)})}),document.body.querySelectorAll(".custom-select").forEach(function(n){var a=n.querySelector(".custom-select_selected-option"),o=n.querySelectorAll(".custom-select_option"),r=function(e){"INPUT"!==e.target.tagName&&n.classList.remove("open")},c=function(e){if(e.preventDefault(),"INPUT"===e.target.tagName&&(n.classList.add("open"),document.body.addEventListener("click",r)),"LI"===e.target.tagName){var t=e.target.innerText;a.value=t,n.classList.remove("open"),document.body.removeEventListener("click",r)}},i=function(e){for(var t=a.value,n=0;n<o.length;n++){if("".concat(o[n].textContent).toLowerCase()==="".concat(t).toLowerCase()){a.classList.add("valid");break}a.classList.remove("valid")}};n.addEventListener("click",function(e){c(e),i()}),a.addEventListener("input",function(e){var t,n;c(e),t=e.target.value,n=new RegExp(t,"i"),o.forEach(function(e){n.test(e.textContent)?e.classList.remove("hidden"):e.classList.add("hidden")}),i()})});var _=document.body.querySelectorAll(".datemask");$(function(){$(".datemask").inputmask({clearIncomplete:!0,showMaskOnHover:!1,mask:"99-99-9999"})}),_.forEach(function(i){var l=i.nextSibling,s=l.querySelector("div");i.addEventListener("keyup",function(e){var t=i.value;if(8===t.replace(/[^\d]/g,"").length){var n=t.split("-"),a=new Date(n[2],n[1]-1,n[0]),o=new Date;if(o.setHours(0,0,0,0),a.getFullYear()!=n[2]||a.getMonth()+1!=n[1]||a.getDate()!=n[0])return i.classList.remove("valid"),s.textContent="* Пожалуйста, введите корректную дату рождения",void l.classList.add("active");var r=new Date;r.setFullYear(o.getFullYear()-18);var c=new Date;c.setFullYear(o.getFullYear()-75),r<a||a<=c?(i.classList.remove("valid"),s.textContent="* Кредитная программа доступна заемщикам в возрасте от 18 до 75 лет",l.classList.add("active")):(i.classList.add("valid"),s.textContent="",l.classList.remove("active"))}else i.classList.remove("valid"),l.classList.remove("active"),s.textContent=""})}),document.body.querySelectorAll(".formWithChageCreditHistory").forEach(function(e){var t=e.querySelectorAll(".questionWithErrorChoice"),a=e.querySelector('input[name="credit_history"]'),o=[];t.forEach(function(e,n){e.addEventListener("change",function(e){o[n]=e.target.selectedOptions[0].getAttribute("data-credit-history");var t=o.every(function(e){return"true"===e});a.value=t?"хорошая":"плохая"})})});