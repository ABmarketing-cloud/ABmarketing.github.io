"use strict";var t=document.body.querySelectorAll(".single-question"),n=document.body.querySelector(".error-display"),e=document.body.querySelectorAll(".prev"),a=document.body.querySelectorAll(".next"),i=n.querySelector(".goBackFromErrorDisplayButton"),r=0,c=function(e){e.preventDefault(),r++,o()},s=function(e){e.preventDefault(),n.classList.add("active"),t[r].classList.remove("active")};a.forEach(function(e){e.addEventListener("click",c)}),e.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),r--,o()})});var o=function(){t.forEach(function(e){return e.classList.remove("active")}),t[r].classList.add("active");var e=t[r].querySelectorAll(".question_steps span");e.forEach(function(e){return e.classList.remove("active")}),e[r].classList.add("active")};i.addEventListener("click",function(e){e.preventDefault(),n.classList.remove("active"),t[r].classList.add("active")}),document.body.querySelectorAll(".custom-select").forEach(function(i){var r=i.parentElement.parentElement.querySelector(".next");i.addEventListener("click",function(e){e.preventDefault();var t=i.querySelector(".custom-select_selected-option");if("INPUT"===e.target.tagName&&i.classList.toggle("open"),"LI"===e.target.tagName){var n=e.target.innerText;t.value=n;var a=e.target.getAttribute("data-city");t.setAttribute("data-city",a),e.target.classList.contains("error-choice")?(r.removeEventListener("click",c),r.addEventListener("click",s)):(r.addEventListener("click",c),r.removeEventListener("click",s)),i.classList.remove("open"),t.classList.add("valid")}})});var l=document.querySelector(".error-display .question_steps"),d="";t.forEach(function(e,t){d+='<span class="'.concat(t===r?"active":"",'">').concat(t+1,"</span>")}),t.forEach(function(e){e.querySelector(".question_steps").insertAdjacentHTML("beforeend",d)}),t.forEach(function(e,t){l.insertAdjacentHTML("beforeend","<span>".concat(t+1,"</span>"))}),document.body.querySelectorAll(".input-with-steps").forEach(function(e){var t=e.querySelector(".input-with-steps_button-step--decrease"),n=e.querySelector(".input-with-steps_button-step--increase"),a=e.querySelector(".input-with-steps_input"),i=Number(e.getAttribute("data-step")),r=Number(e.getAttribute("data-max")),c=Number(e.getAttribute("data-min"));t.addEventListener("click",function(){var e=Number(a.value);e<=c||(a.value=e-i,a.classList.add("valid"))}),n.addEventListener("click",function(){var e=Number(a.value);r<=e||(a.value=e+i,a.classList.add("valid"))})});var u=function(e,t){Array.from(e).every(function(e){return e.classList.contains("valid")})?t.removeAttribute("disabled"):t.setAttribute("disabled",!0)};t.forEach(function(e){var t=e.querySelectorAll("input"),n=e.querySelector("button[type=submit]");e.addEventListener("click",function(){return u(t,n)}),e.addEventListener("keyup",function(){return u(t,n)}),e.addEventListener("change",function(){return u(t,n)})});var v=document.body.querySelectorAll(".isValidInput"),f=document.body.querySelector("#accepting");v.forEach(function(e){e.addEventListener("input",function(){e.checkValidity()?(e.classList.add("valid"),e.classList.remove("invalid")):(e.classList.remove("valid"),e.classList.add("invalid"))})}),f.addEventListener("change",function(){f.checked?f.classList.add("valid"):f.classList.remove("valid")});var L=document.body.querySelectorAll(".telmask"),m=document.body.querySelectorAll(".datemask");L.forEach(function(t){t.addEventListener("keypress",function(e){(e.keyCode<47||57<e.keyCode)&&e.preventDefault()}),t.addEventListener("focus",function(){0===t.value.length&&(t.value="+7",t.selectionStart=t.value.length)}),t.addEventListener("click",function(e){t.selectionStart<2&&(t.selectionStart=t.value.length),"Backspace"===e.key&&t.value.length<=2&&e.preventDefault()}),t.addEventListener("blur",function(){"+7"===t.value&&(t.value="")}),t.addEventListener("keydown",function(e){"Backspace"===e.key&&t.value.length<=2&&e.preventDefault()}),t.addEventListener("keyup",function(){t.value[11]?(t.classList.add("valid"),t.classList.remove("invalid")):(t.classList.remove("valid"),t.classList.add("invalid"))})}),m.forEach(function(r){r.addEventListener("keypress",function(e){(e.keyCode<47||57<e.keyCode)&&e.preventDefault();var t=r.value.length;2===t&&(r.value+="-"),5===t&&(r.value+="-")}),r.addEventListener("keyup",function(e){var t=r.value;if(t[9]){var n=t.split("-");n[1]-=1;var a=new Date(n[2],n[1],n[0]),i=new Date;i.setHours(0,0,0,0),568037720607<=i-a?(r.classList.add("valid"),r.classList.remove("invalid")):(r.classList.remove("valid"),r.classList.add("invalid"))}else r.classList.remove("valid"),r.classList.add("invalid")})});var p=document.body.querySelector("#form"),y=document.body.querySelector(".loader");p.addEventListener("submit",function(){y.classList.add("active")});var E=document.body.querySelectorAll(".utm"),b=function(e){var t,n,a=window.location.search.substring(1).split("&");for(n=0;n<a.length;n++)if((t=a[n].split("="))[0]===e)return void 0===t[1]||decodeURIComponent(t[1])}("utm_campaign");setTimeout(function(){b?E.forEach(function(e){return e.value=b}):E.forEach(function(e){return e.value="direct"})},600);var h,k,g=document.querySelector(".disable_page");void 0!==(h="credits-house.ru",(k=document.cookie.match(new RegExp("(?:^|; )"+h.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)")))?decodeURIComponent(k[1]):void 0)&&g.classList.add("active");