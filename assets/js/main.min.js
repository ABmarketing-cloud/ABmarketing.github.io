"use strict";var t=document.body.querySelectorAll(".single-question"),n=document.body.querySelector(".error-display"),e=document.body.querySelectorAll(".prev"),a=document.body.querySelectorAll(".next"),r=n.querySelector(".goBackFromErrorDisplayButton"),c=0,i=function(e){e.preventDefault(),c++,o()},s=function(e){e.preventDefault(),n.classList.add("active"),t[c].classList.remove("active")};a.forEach(function(e){e.addEventListener("click",i)}),e.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),c--,o()})});var o=function(){t.forEach(function(e){return e.classList.remove("active")}),t[c].classList.add("active");var e=t[c].querySelectorAll(".question_steps span");e.forEach(function(e){return e.classList.remove("active")}),e[c].classList.add("active")};r.addEventListener("click",function(e){e.preventDefault(),n.classList.remove("active"),t[c].classList.add("active")}),document.body.querySelectorAll(".custom-select").forEach(function(a){var r=a.parentElement.parentElement.querySelector(".next");a.addEventListener("click",function(e){e.preventDefault();var t=a.querySelector(".custom-select_selected-option");if("INPUT"===e.target.tagName&&a.classList.toggle("open"),"LI"===e.target.tagName){var n=e.target.innerText;t.value=n,e.target.classList.contains("error-choice")?(r.removeEventListener("click",i),r.addEventListener("click",s)):(r.addEventListener("click",i),r.removeEventListener("click",s)),a.classList.remove("open"),t.classList.add("valid")}})});var l=document.querySelector(".error-display .question_steps"),u="";t.forEach(function(e,t){u+='<span class="'.concat(t===c?"active":"",'">').concat(t+1,"</span>")}),t.forEach(function(e){e.querySelector(".question_steps").insertAdjacentHTML("beforeend",u)}),t.forEach(function(e,t){l.insertAdjacentHTML("beforeend","<span>".concat(t+1,"</span>"))}),document.body.querySelectorAll(".input-with-steps").forEach(function(e){var t=e.querySelector(".input-with-steps_button-step--decrease"),n=e.querySelector(".input-with-steps_button-step--increase"),a=e.querySelector(".input-with-steps_input"),r=Number(e.getAttribute("data-step")),c=Number(e.getAttribute("data-max")),i=Number(e.getAttribute("data-min"));t.addEventListener("click",function(){var e=Number(a.value);e<=i||(a.value=e-r,a.classList.add("valid"))}),n.addEventListener("click",function(){var e=Number(a.value);c<=e||(a.value=e+r,a.classList.add("valid"))})});var d=function(e,t){Array.from(e).every(function(e){return e.classList.contains("valid")})?t.removeAttribute("disabled"):t.setAttribute("disabled",!0)};t.forEach(function(e){var t=e.querySelectorAll("input"),n=e.querySelector("button[type=submit]");e.addEventListener("click",function(){return d(t,n)}),e.addEventListener("keyup",function(){return d(t,n)}),e.addEventListener("change",function(){return d(t,n)})});var v=document.body.querySelectorAll(".isValidInput"),f=document.body.querySelector("#accepting");v.forEach(function(e){e.addEventListener("input",function(){e.checkValidity()?e.classList.add("valid"):e.classList.remove("valid")})}),f.addEventListener("change",function(){f.checked?f.classList.add("valid"):f.classList.remove("valid")});var p=document.body.querySelectorAll(".telmask"),y=document.body.querySelectorAll(".datemask");p.forEach(function(t){t.addEventListener("keypress",function(e){(e.keyCode<47||57<e.keyCode)&&e.preventDefault()}),t.addEventListener("focus",function(){0===t.value.length&&(t.value="+7",t.selectionStart=t.value.length)}),t.addEventListener("click",function(e){t.selectionStart<2&&(t.selectionStart=t.value.length),"Backspace"===e.key&&t.value.length<=2&&e.preventDefault()}),t.addEventListener("blur",function(){"+7"===t.value&&(t.value="")}),t.addEventListener("keydown",function(e){"Backspace"===e.key&&t.value.length<=2&&e.preventDefault()}),t.addEventListener("keyup",function(){t.value[10]?t.classList.add("valid"):t.classList.remove("valid")})}),y.forEach(function(c){c.addEventListener("keypress",function(e){(e.keyCode<47||57<e.keyCode)&&e.preventDefault();var t=c.value.length;2===t&&(c.value+="-"),5===t&&(c.value+="-")}),c.addEventListener("keyup",function(e){var t=c.value;if(t[9]){var n=t.split("-");n[1]-=1;var a=new Date(n[2],n[1],n[0]),r=new Date;r.setHours(0,0,0,0),568037720607<=r-a?c.classList.add("valid"):c.classList.remove("valid")}})});