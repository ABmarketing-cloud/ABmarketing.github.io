"use strict";var e=document.body.querySelectorAll(".utm"),t=function(e){var t,n,r=window.location.search.substring(1).split("&");for(n=0;n<r.length;n++)if((t=r[n].split("="))[0]===e)return void 0===t[1]||decodeURIComponent(t[1])}("utm_campaign");function n(o,c){return function(e){e=Object.assign(e,{path:"/","max-age":"2592000"});var t=encodeURIComponent(o)+"="+encodeURIComponent(c);for(var n in e){t+="; "+n;var r=e[n];!0!==r&&(t+="="+r)}document.cookie=t}(2<arguments.length&&void 0!==arguments[2]?arguments[2]:{})}setTimeout(function(){t?e.forEach(function(e){return e.value=t}):e.forEach(function(e){return e.value="direct"})},600);var r=document.body.querySelector(".loader"),o=document.body.querySelector("form");o&&(o.addEventListener("submit",function(e){r.classList.add("active"),n("credits-house.ru","send")}),o.addEventListener("keydown",function(e){"Enter"===e.key&&e.preventDefault()}));var c=document.body.querySelectorAll(".question:not(.error)"),a=document.body.querySelectorAll(".prev"),i=document.body.querySelectorAll(".next"),l=document.body.querySelectorAll(".whithErrorChoise"),d=document.body.querySelector(".question.error"),s=0,u=function(e){e.preventDefault(),s++,m()},v=function(){c.forEach(function(e){return e.classList.remove("active")}),d.classList.add("active")};i.forEach(function(e){e.addEventListener("click",u)}),a.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),s--,m()})});var m=function(){c.forEach(function(e){return e.classList.remove("active")}),c[s].classList.add("active")};l.forEach(function(n){n.addEventListener("change",function(e){var t=n.querySelector(".next");"true"===e.target.value?(t.addEventListener("click",u),t.removeEventListener("click",v)):(t.addEventListener("click",v),t.removeEventListener("click",u))})});var f=document.body.querySelectorAll(".question_number"),y=document.body.querySelectorAll(".question_count");f.forEach(function(e,t){return e.textContent=t+1}),y.forEach(function(e){return e.textContent=c.length});var L=document.body.querySelectorAll(".isAllValidData"),h=function(e,t){Array.from(e).every(function(e){return e.classList.contains("valid")})?t.classList.remove("disabled"):t.classList.add("disabled")};L.forEach(function(e){var t=e.querySelectorAll(".isValidData"),n=e.querySelector(".isDisableButton");n&&(e.addEventListener("click",function(){return h(t,n)}),e.addEventListener("keyup",function(){return h(t,n)}),e.addEventListener("change",function(){return h(t,n)}))});var E=document.body.querySelectorAll(".isValidInput"),b=document.body.querySelector("#accepting");E.forEach(function(e){e.addEventListener("input",function(){e.checkValidity()?e.classList.add("valid"):e.classList.remove("valid")})}),b&&b.addEventListener("change",function(){b.checked?b.classList.add("valid"):b.classList.remove("valid")});var p=document.body.querySelectorAll(".telmask"),q=document.body.querySelectorAll(".birthdaymask");$(function(){$(".telmask").inputmask({clearIncomplete:!0,showMaskOnHover:!1,mask:"+7 (999) 999-99-99"}),$(".birthdaymask").inputmask({clearIncomplete:!0,showMaskOnHover:!1,mask:"99-99-9999"})}),p.forEach(function(e){e.addEventListener("keyup",function(){11===e.value.replace(/[^\d]/g,"").length?e.classList.add("valid"):e.classList.remove("valid")})}),q.forEach(function(i){var l=i.parentElement.querySelector(".valid-error");i.addEventListener("keyup",function(e){var t=i.value;if(8===t.replace(/[^\d]/g,"").length){var n=t.split("-"),r=new Date(n[2],n[1]-1,n[0]),o=new Date;if(o.setHours(0,0,0,0),r.getFullYear()!=n[2]||r.getMonth()+1!=n[1]||r.getDate()!=n[0])return i.classList.remove("valid"),void(l.textContent="* Пожалуйста, введите корректную дату рождения");var c=new Date;c.setFullYear(o.getFullYear()-18);var a=new Date;a.setFullYear(o.getFullYear()-75),c<r||r<=a?(i.classList.remove("valid"),l.textContent="* Кредитная программа доступна заемщикам в возрасте от 18 до 75 лет"):(i.classList.add("valid"),l.textContent="")}else i.classList.remove("valid"),l.textContent=""})});var k=document.body.querySelector(".main_button"),g=document.body.querySelector(".first-display"),S=document.body.querySelector(".quiz"),A=document.body.querySelector(".disable-page");k.addEventListener("click",function(){var e,t;void 0===(e="credits-house.ru",(t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)")))?decodeURIComponent(t[1]):void 0)?(document.body.classList.remove("start"),g.classList.remove("active"),S.classList.add("active"),footer.classList.remove("active")):A.classList.add("active")},{once:!0});